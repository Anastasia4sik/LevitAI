@php
    $transactions = [
        'item1' => [
            'id' => 1,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item2' => [
            'id' => 2,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item3' => [
            'id' => 3,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item4' => [
            'id' => 4,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item5' => [
            'id' => 5,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item6' => [
            'id' => 6,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item7' => [
            'id' => 7,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item8' => [
            'id' => 8,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item9' => [
            'id' => 9,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item10' => [
            'id' => 10,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item11' => [
            'id' => 11,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item12' => [
            'id' => 12,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item13' => [
            'id' => 13,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item14' => [
            'id' => 14,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
        'item15' => [
            'id' => 15,
            'nickname' => 'TrinitySap',
            'img' => 'src/img/icons/transactions/icon1.svg',
            'time' => '16:46',
            'date' => '12 Dec 2023',
            'amount' => '2.454665',
            'vat' => '0.0435',
            'profit' => '0.236564',
            'link' => '#',
            'status' => 'completed',
        ],
    ];
@endphp

<div class="transactions d-flex flex-column">
    @foreach ($transactions as $item)
        <div
            class="
                transactions__item
                d-flex
                flex-row
                justify-content-between
                align-items-center
                {{ $loop->index > 4 ? 'transactions__item--hide' : '' }}
            "
        >
            <p class="transactions__item__date desc">
                {{ $item['time']}}, {{ $item['date']}}
            </p>

            <img src="{{ asset($item['img'])}}" alt="Item icon" class="transactions__item__img">

            <p class="transactions__item__name desc">
                {{ $item['nickname']}}
            </p>

            <p class="transactions__item__amount desc">
                {{ $item['amount']}}
            </p>

            <p class="transactions__item__vat desc">
                {{ $item['vat']}}
            </p>

            <p class="transactions__item__profit desc">
                {{ $item['profit']}}
            </p>

            <a
                href='{{ $item['link'] }}'
                class="transactions__item__profit desc
                        @if (request()->is('transactions'))
                            d-block
                        @else
                            d-none
                        @endif"
                >
                    Download
                </a>


            <p class="transactions__item__status desc">
                {{ $item['status']}}
            </p>
        </div>
    @endforeach

    <button class="transactions__btn desc d-flex flex-row align-items-center justify-content-end">
        Show all referrals <img src="{{asset('src/img/icons/arrows/arrow-down.svg')}}" alt="Show more">
    </button>

    <script>
        //showMore
        document.addEventListener('DOMContentLoaded', function() {
            const blocks = document.querySelectorAll('.transactions__item--hide');

            blocks.forEach((block) => {
                const button = document.querySelector('.transactions__btn');

                button.addEventListener('click', function() {
                    if (block.style.display != 'flex') {
                        block.style.display = 'flex';

                        button.innerHTML = 'Hide <img src="src/img/icons/arrows/arrow-up.svg" alt="Show less">';
                    } else {
                        block.style.display = 'none';

                        button.innerHTML = 'Show all referrals <img src="src/img/icons/arrows/arrow-down.svg" alt="Show more">';
                    }
                });
            });
        });
    </script>
</div>
