@php
    $blogInfo = [
        'item1' => [
            'id' => 1,
            'photo' => 'src/img/photo/choose-img.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'bitcoin',
        ],
        'item2' => [
            'id' => 2,
            'photo' => 'src/img/photo/slide2.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'blockchain',
        ],
        'item3' => [
            'id' => 3,
            'photo' => 'src/img/photo/choose-img.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'cryptocurrency',
        ],
        'item4' => [
            'id' => 4,
            'photo' => 'src/img/photo/slide2.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'security',
        ],
        'item5' => [
            'id' => 5,
            'photo' => 'src/img/photo/choose-img.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'bitcoin',
        ],
        'item6' => [
            'id' => 6,
            'photo' => 'src/img/photo/slide2.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'blockchain',
        ],
        'item7' => [
            'id' => 7,
            'photo' => 'src/img/photo/choose-img.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'cryptocurrency',
        ],
        'item8' => [
            'id' => 8,
            'photo' => 'src/img/photo/slide2.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'security',
        ],
        'item9' => [
            'id' => 9,
            'photo' => 'src/img/photo/choose-img.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'bitcoin',
        ],
        'item10' => [
            'id' => 10,
            'photo' => 'src/img/photo/slide2.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'blockchain',
        ],
        'item11' => [
            'id' => 11,
            'photo' => 'src/img/photo/choose-img.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'cryptocurrency',
        ],
        'item12' => [
            'id' => 12,
            'photo' => 'src/img/photo/slide2.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'security',
        ],
        'item13' => [
            'id' => 13,
            'photo' => 'src/img/photo/choose-img.jpg',
            'title' => 'Cryptocash Is A Clean & Modern Coin Service - Levitai',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
            'theme' => 'bitcoin',
        ],
    ];

    $commentInfo = [
        'item1' => [
            'photo' => 'src/img/photo/comment.jpg',
            'name' => 'Artem Jonson',
            'date' => '10.12.2023',
            'time' => '13:47',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit ese cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
            'position' => 0,
        ],
        'item2' => [
            'photo' => 'src/img/photo/comment.jpg',
            'name' => 'Artem Jonson',
            'date' => '10.12.2023',
            'time' => '13:59',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit ese cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
            'position' => 1,
        ],
        'item3' => [
            'photo' => 'src/img/photo/comment.jpg',
            'name' => 'Artem Jonson',
            'date' => '10.12.2023',
            'time' => '13:59',
            'desc' => 'On the other hand, we denounce with righteous indignation and dislike men who are so beguiled and demoralized by the charms of pleasure of the moment, so blinded by desire, that they cannot foresee the pain and trouble that are bound to ensue; and equal blame belongs to those who fail in their duty through weakness of will, which is the same as saying through shrinking from toil and pain. These cases are perfectly simple and easy to distinguish. In a free hour, when our power of choice is untrammelled and when nothing prevents our being able to do what we like best, every pleasure is to be welcomed and every pain avoided. But in certain circumstances and owing to the claims of duty or the obligations of business it will frequently occur that pleasures have to be repudiated and annoyances accepted. The wise man therefore always holds in these matters to this principle of selection: he rejects pleasures to secure other greater pleasures, or else he endures pains to avoid worse pains.',
            'position' => 0,
        ],
        'item4' => [
            'photo' => 'src/img/photo/comment.jpg',
            'name' => 'Artem Jonson',
            'date' => '10.12.2023',
            'time' => '13:59',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit ese cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
            'position' => 0,
        ],
        'item5' => [
            'photo' => 'src/img/photo/comment.jpg',
            'name' => 'Artem Jonson',
            'date' => '10.12.2023',
            'time' => '13:47',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit ese cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
            'position' => 0,
        ],
        'item6' => [
            'photo' => 'src/img/photo/comment.jpg',
            'name' => 'Artem Jonson',
            'date' => '10.12.2023',
            'time' => '13:59',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit ese cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
            'position' => 1,
        ],
        'item7' => [
            'photo' => 'src/img/photo/comment.jpg',
            'name' => 'Artem Jonson',
            'date' => '10.12.2023',
            'time' => '13:59',
            'desc' => 'On the other hand, we denounce with righteous indignation and dislike men who are so beguiled and demoralized by the charms of pleasure of the moment, so blinded by desire, that they cannot foresee the pain and trouble that are bound to ensue; and equal blame belongs to those who fail in their duty through weakness of will, which is the same as saying through shrinking from toil and pain. These cases are perfectly simple and easy to distinguish. In a free hour, when our power of choice is untrammelled and when nothing prevents our being able to do what we like best, every pleasure is to be welcomed and every pain avoided. But in certain circumstances and owing to the claims of duty or the obligations of business it will frequently occur that pleasures have to be repudiated and annoyances accepted. The wise man therefore always holds in these matters to this principle of selection: he rejects pleasures to secure other greater pleasures, or else he endures pains to avoid worse pains.',
            'position' => 2,
        ],
        'item8' => [
            'photo' => 'src/img/photo/comment.jpg',
            'name' => 'Artem Jonson',
            'date' => '10.12.2023',
            'time' => '13:59',
            'desc' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit ese cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
            'position' => 0,
        ]
    ];
@endphp

<x-base>
    <section
        class="blogPage"
    >
        <x-menu />

        <x-header />

        <section class="blogPage__blog topPage d-flex flex-column align-items-center justify-content-center">
            <div
                class="
                    blogPage__blog__container
                    topPage__top
                    d-flex
                    flex-column
                    justify-content-center
                "
            >
                <h2 class="topPage__top__title title-main">
                    The Blog
                </h2>

                <div class="topPage__top__text d-flex flex-row align-items-center">
                    <h2 class="topPage__top__text__title title-main title-main--stroke">
                        LevitAI
                    </h2>

                    <p class="topPage__top__text__desc desc">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt labore dolore magna aliqua. Ut ad minim veniam,  nostrud exercitation ullamco laboris ut ea consequat. Lorem  amet, sed do  tempor aliqua.
                    </p>
                </div>

            </div>

            <a href="#blog" class="topPage__top__arrowDown">
                <img src="{{ asset('src/img/icons/arrows/arrow-down-circle.png')}}" alt="To map">
            </a>
        </section>

        <x-blog :blogInfo="$blogInfo" />

        <section class="blogPage__all">
                <div class="blogPage__all__top d-flex flex-row align-items-center">
                    <h2 class="blogPage__all__top__title title-main">
                        All <span class="title-main title-main--stroke">Posts</span>
                    </h2>

                    <div class="blogPage__all__top__list d-flex flex-row align-items-center">
                        <p class="blogPage__all__top__list__item active desc active" id="all" onclick="loadMorePosts()">
                            All
                        </p>

                        <p class="blogPage__all__top__list__item desc" id="bitcoin">
                            Bitcoin
                        </p>

                        <p class="blogPage__all__top__list__item desc" id="blockchain">
                            Blockchain
                        </p>

                        <p class="blogPage__all__top__list__item desc" id="cryptocurrency">
                            Cryptocurrency
                        </p>

                        <p class="blogPage__all__top__list__item desc" id="security">
                            Security
                        </p>
                    </div>
                </div>

                <div class="blogPage__all__content d-flex flex-row align-items-center">
                    <div class="blogPage__all__content__block" id="blogItemsContainer">
                        @php $count = 0; @endphp

                        @foreach ($blogInfo as $key => $item)
                            @if ($item['id'] !== 1)
                                @php $count++; @endphp
                                <div data-theme="{{ $item['theme']}}" class="blogPage__all__content__block__item" style="{{ $count > 6 ? 'display: none;' : '' }}">
                                    <a href="/blog/post-">
                                        <img src="{{ asset($item['photo']) }}" alt="slide">

                                        <h3 class="blogPage__all__content__block__item__title title-little">
                                            {{ $item['title'] }}
                                        </h3>

                                        <p class="blogPage__all__content__block__item__desc desc">
                                            {{ $item['desc'] }}
                                        </p>
                                    </a>
                                </div>
                            @endif
                        @endforeach
                    </div>

                    <div class="blogPage__all__content__main">
                        @php
                            $mainPost = $blogInfo['item1']; // Post with ID 1
                        @endphp

                        <a href="/blog/post-">
                            <img src="{{ asset($item['photo'])}}" alt="slide">

                            <h3 class="blogPage__all__content__main__title title-little">
                                {{ $mainPost['title']}}
                            </h3>

                            <p class="blogPage__all__content__main__desc desc">
                                {{ $mainPost['desc']}}
                            </p>
                        </a>
                    </div>
                </div>

                <button
                    type="submit"
                    class="
                        blogPage__all__btn
                        button
                    "
                    onclick="loadMorePosts()"
                    id="loadMoreButton"
                >
                    Load More
                </button>
        </section>

        <x-footer />
    </section>

    <script>
        function loadMorePosts() {
            const itemsContainer = document.getElementById("blogItemsContainer");
            const items = itemsContainer.querySelectorAll(".blogPage__all__content__block__item");

            for (let i = 6; i < items.length; i++) {
                items[i].style.display = "block";
            }

            document.getElementById("loadMoreButton").style.display = "none";

            const mainPost = document.querySelector('.blogPage__all__content__main');
            mainPost.style.display = "none";

            itemsContainer.style.width = "100%";
        }

        const blogBtns = document.querySelectorAll('.blogPage__all__top__list__item');
        const listItems = document.querySelectorAll('.blogPage__all__top__list')

        blogBtns.forEach((button) => {
            button.addEventListener('click', function() {
                const theme = button.id;
                blogBtns.forEach((btn) => {
                    btn.classList.remove('active')
                });

                button.classList.add('active');

                const itemsContainer = document.getElementById("blogItemsContainer");
                const items = itemsContainer.querySelectorAll(".blogPage__all__content__block__item");

                if (theme !== 'all') {
                    itemsContainer.style.display = 'flex';
                    itemsContainer.style.width = "100%";
                    itemsContainer.style.justifyContent = "start";
                    itemsContainer.style.flexDirection = "row";

                    const loadMoreButton = document.getElementById("loadMoreButton");
                    if (loadMoreButton) {
                        loadMoreButton.style.display = "none";
                    }
                } else {
                    itemsContainer.style.display = 'grid';
                }

                items.forEach((item) => {
                    const itemTheme = item.getAttribute('data-theme');
                    item.style.display = (theme === 'all' || theme === itemTheme) ? 'block' : 'none';
                    item.style.width = "311px";
                });

                const mainPost = document.querySelector('.blogPage__all__content__main');
                mainPost.style.display = 'none';
            })
        })
    </script>
</x-base>
